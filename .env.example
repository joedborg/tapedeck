# Copy this file to .env and edit before running docker-compose

# ── Security ──────────────────────────────────────────────────────────────────
# A strong random secret — generate with: openssl rand -hex 32
SECRET=change-me-in-production

# ── Initial admin credentials (only used when the DB has no users) ────────────
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme

# ── Paths (host-side) ─────────────────────────────────────────────────────────
# Host directory mounted into the container as /downloads
DOWNLOAD_DIR=./downloads

# ── Paths (container-side) ────────────────────────────────────────────────────
DATABASE_URL=/data/tapedeck.db
OUTPUT_DIR=/downloads
IPLAYER_CACHE_DIR=/data/iplayer-cache
GET_IPLAYER_PATH=/usr/local/bin/get_iplayer
FFMPEG_PATH=/usr/bin/ffmpeg
STATIC_DIR=/app/ui/dist

# ── Server ────────────────────────────────────────────────────────────────────
BIND=0.0.0.0:3000

# ── Download behaviour ────────────────────────────────────────────────────────
# Maximum simultaneous downloads
MAX_CONCURRENT=5

# Times to retry a failed download (0 = no retries); backs off exponentially (2s, 4s, 8s…)
MAX_DOWNLOAD_RETRIES=5

# Optional HTTP proxy passed to get_iplayer
# PROXY=http://your-proxy.example.com:8080

# ── Logging ───────────────────────────────────────────────────────────────────
RUST_LOG=tapedeck=info,tower_http=info
